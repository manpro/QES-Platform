# eIDAS QES Platform - Environment Configuration Example
# Copy this file to .env and update the values

# Application
APP_NAME="eIDAS QES Platform"
APP_VERSION="1.0.0-dev"
DEBUG=true
LOG_LEVEL=info

# Database
DATABASE_URL=postgresql://qes_user:qes_password@localhost:5432/qes_platform
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# HashiCorp Vault
VAULT_URL=http://localhost:8200
VAULT_TOKEN=qes-dev-token
VAULT_MOUNT_PATH=secret
VAULT_PKI_PATH=pki

# MinIO Object Storage
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=qes-minio-user
MINIO_SECRET_KEY=qes-minio-password
MINIO_BUCKET_NAME=qes-documents
MINIO_SECURE=false

# SoftHSM (Development)
SOFTHSM_LIB_PATH=/usr/lib/softhsm/libsofthsm2.so
SOFTHSM_TOKEN_LABEL=qes-token
SOFTHSM_PIN=1234

# Timestamp Authority (TSA)
TSA_URL=http://timestamp.digicert.com
TSA_POLICY_OID=2.16.840.1.113733.1.7.23.3
TSA_HASH_ALGORITHM=SHA256

# QES Provider Configuration
# Freja eID (Sweden)
FREJA_API_URL=https://services.test.frejaeid.com
FREJA_CLIENT_ID=your-freja-client-id
FREJA_CLIENT_SECRET=your-freja-client-secret
FREJA_ENVIRONMENT=test

# D-Trust (Germany)
DTRUST_API_URL=https://www.d-trust.net/api/v1
DTRUST_CLIENT_ID=your-dtrust-client-id
DTRUST_CLIENT_SECRET=your-dtrust-client-secret
DTRUST_ENVIRONMENT=test

# FNMT (Spain)
FNMT_API_URL=https://www.sede.fnmt.gob.es/api
FNMT_CLIENT_ID=your-fnmt-client-id
FNMT_CLIENT_SECRET=your-fnmt-client-secret
FNMT_ENVIRONMENT=test

# Security
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Monitoring and Observability
ENABLE_METRICS=true
METRICS_PORT=9090
OPENTELEMETRY_ENDPOINT=http://localhost:4317
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Multi-tenancy
ENABLE_MULTITENANCY=false
DEFAULT_TENANT_ID=default
TENANT_HEADER_NAME=X-Tenant-ID

# File Storage
MAX_DOCUMENT_SIZE_MB=50
ALLOWED_MIME_TYPES=["application/pdf", "application/xml", "text/xml"]
DOCUMENT_RETENTION_DAYS=365

# Compliance and Audit
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=INFO
WORM_STORAGE_ENABLED=false
COMPLIANCE_MODE=eidas_qes

# Development Settings
RELOAD_ON_CHANGE=true
INCLUDE_STACK_TRACE=true
ENABLE_PROFILING=false

# Document Verification Providers
DOC_VERIFICATION_DEFAULT_PROVIDER=onfido
DOC_VERIFICATION_FALLBACK_PROVIDER=jumio
PREFER_EXTERNAL_VERIFICATION=true

# Onfido Configuration
ONFIDO_ENABLED=true
ONFIDO_API_KEY=your_onfido_api_key_here
ONFIDO_BASE_URL=https://api.onfido.com/v3.6
ONFIDO_WEBHOOK_URL=https://your-domain.com/webhooks/onfido

# Jumio Configuration  
JUMIO_ENABLED=true
JUMIO_API_KEY=your_jumio_api_key_here
JUMIO_API_SECRET=your_jumio_api_secret_here
JUMIO_BASE_URL=https://api.jumio.com
JUMIO_WEBHOOK_URL=https://your-domain.com/webhooks/jumio

# IDnow Configuration
IDNOW_ENABLED=false
IDNOW_API_KEY=your_idnow_api_key_here
IDNOW_COMPANY_ID=your_idnow_company_id_here
IDNOW_BASE_URL=https://api.idnow.de
IDNOW_WEBHOOK_URL=https://your-domain.com/webhooks/idnow

# Veriff Configuration
VERIFF_ENABLED=false
VERIFF_API_KEY=your_veriff_api_key_here
VERIFF_API_SECRET=your_veriff_api_secret_here
VERIFF_BASE_URL=https://stationapi.veriff.com
VERIFF_WEBHOOK_URL=https://your-domain.com/webhooks/veriff

# Redis Cache Configuration (Enhanced)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_MEMORY=256mb
REDIS_DEFAULT_TTL=3600
REDIS_EVICTION_POLICY=allkeys-lru
REDIS_CLUSTER_ENABLED=false
REDIS_SSL_ENABLED=false

# Cache Settings
CACHE_CERTIFICATES_ENABLED=true
CACHE_PROVIDER_METADATA_ENABLED=true
CACHE_SESSION_DATA_ENABLED=true
CERTIFICATE_CACHE_TTL=3600
HSM_KEY_CACHE_TTL=1800
REVOCATION_CACHE_TTL=900

# Monitoring and Alerts
GRAFANA_ADMIN_PASSWORD=admin123
PROMETHEUS_RETENTION_DAYS=30
LOKI_RETENTION_DAYS=30